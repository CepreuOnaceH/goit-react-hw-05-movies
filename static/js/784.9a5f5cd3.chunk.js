"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[784],{784:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r,i=n(439),c=n(689),o=n(87),s=n(791),a=n(390),h=n(168),u=n(867).ZP.div(r||(r=(0,h.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),d=n(184),f=function(){var e,t=(0,c.UO)(),n=(0,s.useState)(null),r=(0,i.Z)(n,2),h=r[0],f=r[1],l=(0,c.TH)(),p=(0,s.useState)(""),v=(0,i.Z)(p,2),m=v[0],j=v[1],x=(0,s.useState)(""),w=(0,i.Z)(x,2),g=w[0],b=w[1];return(0,s.useEffect)((function(){l.pathname.includes("cast")||l.pathname.includes("reviews")||j(l.state)}),[l]),(0,s.useEffect)((function(){b(""),(0,a.Y5)(t.movieId).then((function(e){if(!e.ok)throw b("Sorry, something went wrong"),new Error;return e.json()})).then((function(e){if(0===Object.keys(e).length)throw b("Sorry, there is no information about this film."),new Error;return f(e)})).catch((function(e){return console.log(e)}))}),[t.id,t.movieId]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.rU,{to:g?"/":m,children:"Go back"}),g&&(0,d.jsx)("h3",{children:g}),h&&(0,d.jsxs)(u,{children:[(0,d.jsx)("img",{src:"https://image.tmdb.org/t/p/w400/".concat(h.poster_path),alt:h.title}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{children:[h.title," (",Number.parseInt(h.release_date),")"]}),(0,d.jsxs)("p",{children:["User score: ",Math.round(10*h.vote_average),"%"]}),(0,d.jsx)("h3",{children:"Overview"}),(0,d.jsx)("p",{children:h.overview}),(0,d.jsx)("h4",{children:"Genres"}),(0,d.jsx)("p",{children:null===(e=h.genres)||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")})]}),(0,d.jsx)("div",{})]}),!g&&(0,d.jsxs)("div",{children:[(0,d.jsx)("li",{children:(0,d.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,d.jsx)("li",{children:(0,d.jsx)(o.rU,{to:"reviews",children:"Reviews"})})]}),(0,d.jsx)(c.j3,{})]})}},390:function(e,t,n){n.d(t,{E3:function(){return c},Hx:function(){return a},Y5:function(){return o},wr:function(){return i},xc:function(){return s}});var r="8aba4e3419a44727b7eb66f35fce4fa2",i=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(r))},c=function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(e))},o=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(r))},s=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(r))},a=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(r))}}}]);
//# sourceMappingURL=784.9a5f5cd3.chunk.js.map