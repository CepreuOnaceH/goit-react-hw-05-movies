"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[555],{555:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r,o=n(439),c=n(791),i=n(168),u=n(867).ZP.form(r||(r=(0,i.Z)(["\n  padding-top: 40px;\n  display: flex;\n  justify-content: center;\n"]))),a=n(184),s=function(t){var e=t.setSearchText,n=(0,c.useState)(""),r=(0,o.Z)(n,2),i=r[0],s=r[1];return(0,a.jsxs)(u,{onSubmit:function(t){if(t.preventDefault(),!i.trim())return alert("Please, write anything");e(i.trim().toLowerCase()),s("")},children:[(0,a.jsx)("input",{onChange:function(t){var e=t.target.value;s(e)},value:i}),(0,a.jsx)("button",{type:"submit",children:"Search"})]})},f=n(689),h=n(87),l=function(t){var e=t.movies,n=(0,f.TH)();return(0,a.jsx)(a.Fragment,{children:e.map((function(t){return(0,a.jsx)("li",{children:(0,a.jsx)(h.rU,{to:"/movies/".concat(t.id),state:"".concat(n.pathname).concat(n.search),children:t.title})},t.id)}))})},p=n(390),m=function(){var t=(0,c.useState)([]),e=(0,o.Z)(t,2),n=e[0],r=e[1],i=(0,c.useState)(""),u=(0,o.Z)(i,2),f=u[0],m=u[1],d=(0,c.useState)(""),v=(0,o.Z)(d,2),g=v[0],x=v[1],y=(0,h.lr)(),b=(0,o.Z)(y,2),w=b[0],j=b[1];return(0,c.useEffect)((function(){w.get("query")&&m(w.get("query"))}),[w]),(0,c.useEffect)((function(){f&&(x(""),(0,p.E3)(f).then((function(t){if(!t.ok)throw x("Sorry, something wrong"),new Error;return t.json()})).then((function(t){if(0===t.results.length)throw x('Sorry, there are no results for request "'.concat(f,'".')),new Error;r(t.results.map((function(t){return{title:t.title,id:t.id}})))})).catch((function(t){return console.log(t)})),j({query:f}))}),[f,j]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s,{setSearchText:m}),g&&(0,a.jsx)("h3",{children:g}),!g&&n.length>0&&(0,a.jsx)(l,{movies:n})]})}},390:function(t,e,n){n.d(e,{E3:function(){return c},Hx:function(){return a},Y5:function(){return i},wr:function(){return o},xc:function(){return u}});var r="8aba4e3419a44727b7eb66f35fce4fa2",o=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(r))},c=function(t){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(t))},i=function(t){return fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(r))},u=function(t){return fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(r))},a=function(t){return fetch("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(r))}}}]);
//# sourceMappingURL=555.0e422570.chunk.js.map